# Enable variable substitution in prompt
setopt prompt_subst

# Set up Homebrew and mise environment variables
eval "$(/opt/homebrew/bin/brew shellenv)"
eval "$(/opt/homebrew/bin/mise activate zsh)"
eval "$(sheldon source)"

# Enable colored 'ls' output
export CLICOLOR=1
export LSCOLORS=dxFxBxDxCxegedabagacad

# Prompt icon and datetime settings
local pt_icon=î½¶
local pt_datetime="%F{59}%D{%Y-%m-%d %H:%M}%f"
local pt_mark="%(?,%F{11}$pt_icon,%F{1}$pt_icon)%f"

# Show current git branch name
get_branch() {
  local branch
  branch=$(git rev-parse --abbrev-ref HEAD 2>/dev/null)
  [[ -n "$branch" ]] && echo "%F{6}[$branch]%f"
}

PROMPT='$pt_mark '
RPROMPT='$pt_datetime'

# Load personal custom settings if available
[[ -f ~/.zshrc.local ]] && source ~/.zshrc.local
